<!DOCTYPE html>
<html lang="ar">
<head>
    <title>Admin Panel</title>
</head>
<body>
    <h1>إضافة منتج جديد</h1>
    <form id="productForm">
        <label>اسم المنتج: <input type="text" id="productName" required></label><br>
        <label>السعر: <input type="number" id="productPrice" required></label><br>
        <label>رابط الصورة: <input type="text" id="productImage" required readonly></label><br>
        <label>رفع صورة: <input type="file" id="imageUpload" accept="image/*"></label><br>
        <label>نوع المنتج: 
            <select id="productType">
                <option value="Necklace">Necklace</option>
                <option value="Bracelet">Bracelet</option>
                <option value="Ring">Ring</option>
            </select>
        </label><br>
        <button type="submit">إضافة المنتج</button>
    </form>

    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-storage.js"></script>
    <script type="module">
        // إعداد Firebase
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            databaseURL: "YOUR_DATABASE_URL",
            storageBucket: "YOUR_STORAGE_BUCKET"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const storage = firebase.storage();

        // رفع الصورة وتحديث الرابط
        document.getElementById('imageUpload').addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (!file) return;

            const storageRef = storage.ref(`images/${file.name}`);
            storageRef.put(file).then(snapshot => {
                snapshot.ref.getDownloadURL().then(url => {
                    document.getElementById('productImage').value = url;
                    alert("تم رفع الصورة بنجاح!");
                });
            }).catch(error => alert("خطأ أثناء رفع الصورة: " + error.message));
        });
    </script>
</body>
</html>
